(this["webpackJsonp"]=this["webpackJsonp"]||[]).push([["app-confusion"],{"055b":function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){function e(){n(this,e),this._ads={}}return i(e,[{key:"load",value:function(e,t,a){e&&!this.isBusy(e)&&this.get(e).load(t,a)}},{key:"show",value:function(e,t,a){if(e){uni.showLoading({mask:!0});var n=this.get(e);n.load((function(){uni.hideLoading(),n.show((function(e){t&&t(e)}))}),(function(e){uni.hideLoading(),a&&a(e)}))}}},{key:"isBusy",value:function(e){return this._ads[e]&&this._ads[e].isLoading}},{key:"get",value:function(e){return this._ads[e]||(this._ads[e]=new l({adpid:e})),this._ads[e]}}]),e}(),s=18e5,u={CSJ:"csj",GDT:"gdt"},c=1,l=function(){function e(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this._isLoad=!1,this._isLoading=!1,this._lastLoadTime=0,this._lastError=null,this._retryCount=0,this._loadCallback=null,this._closeCallback=null,this._errorCallback=null;var r=this._rewardAd=plus.ad.createRewardedVideoAd(a);r.onLoad((function(e){t._isLoading=!1,t._isLoad=!0,t._lastLoadTime=Date.now(),t.onLoad()})),r.onAdClicked((function(){uni.setStorageSync("isVVip",!0),uni.setStorageSync("vVipStart",Date.now())})),r.onClose((function(e){t._isLoad=!1,t.onClose(e)})),r.onVerify((function(e){})),r.onError((function(e){var a=e.code,n=e.message;t._isLoading=!1;var r={code:a,errMsg:n};if(-5008!==a){if(t._retryCount<c)return t._retryCount+=1,void t._loadAd();t._lastError=r,t.onError(r)}else t._loadAd()}))}return i(e,[{key:"getProvider",value:function(){return this._rewardAd.getProvider()}},{key:"load",value:function(e,t){this._loadCallback=e,this._errorCallback=t,this._isLoading||(this._isLoad?this.onLoad():(this._retryCount=0,this._loadAd()))}},{key:"show",value:function(e){if(this._closeCallback=e,!this._isLoading&&this._isLoad)if(null===this._lastError){var t=this.getProvider();t===u.CSJ&&this.isExpired?this._loadAd():this._rewardAd.show()}else this.onError(this._lastError)}},{key:"onLoad",value:function(e){null!=this._loadCallback&&this._loadCallback()}},{key:"onClose",value:function(e){null!=this._closeCallback&&this._closeCallback({isEnded:e.isEnded})}},{key:"onError",value:function(e){null!=this._errorCallback&&this._errorCallback(e)}},{key:"destroy",value:function(){this._rewardAd.destroy()}},{key:"_loadAd",value:function(){this._isLoad=!1,this._isLoading=!0,this._lastError=null,this._rewardAd.load()}},{key:"isExpired",get:function(){return 0!==this._lastLoadTime&&Math.abs(Date.now()-this._lastLoadTime)>s}},{key:"isLoading",get:function(){return this._isLoading}}]),e}(),d=new o;t.default=d},"4ac6":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={urls:["http://m.qiman6.com","http://m.qiman6.com"]},r=n;t.default=r},"7bd1":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={adultWords:[],hideCate:["\u7535\u5f71","\u7535\u5f71\u7247","\u7535\u89c6\u5267","\u8fde\u7eed\u5267","\u7efc\u827a","\u52a8\u6f2b"],configUrl:"https://xhy.coding.net/p/cainiaoblog/d/cainiaoblog/git/raw/master/appConfigs/config"},r=n;t.default=r},8365:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=[{name:"\u4e50\u591a[\u5f39\u5e55]",api:"http://api.leduozy.com/inc/api.php",download:"",jiexiUrl:"https://api.leduotv.com/wp-api/ifr.php?vid=",isActive:!0},{key:"\u5feb\u64ad\u4e91",name:"\u5feb\u64ad\u4e91",api:"http://www.kuaibozy.com/api.php/provide/vod/at/xml/",download:"",jiexiUrl:"https://jx.7kjx.com/?url=",isActive:!0}],r=n;t.default=r},9874:function(module,exports,__webpack_require__){"use strict";(function(__f__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _regenerator=_interopRequireDefault(__webpack_require__("a34a")),_lodash=_interopRequireDefault(__webpack_require__("a228")),_ajax=_interopRequireDefault(__webpack_require__("6b8d")),_htmlParser=_interopRequireDefault(__webpack_require__("a2ec")),_comics=_interopRequireDefault(__webpack_require__("4ac6")),_util=__webpack_require__("595a");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function asyncGeneratorStep(e,t,a,n,r,i,o){try{var s=e[i](o),u=s.value}catch(c){return void a(c)}s.done?t(u):Promise.resolve(u).then(n,r)}function _asyncToGenerator(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var i=e.apply(t,a);function o(e){asyncGeneratorStep(i,n,r,o,s,"next",e)}function s(e){asyncGeneratorStep(i,n,r,o,s,"throw",e)}o(void 0)}))}}function ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(a),!0).forEach((function(t){_defineProperty(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"===typeof e)return _arrayLikeToArray(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var _default={namespaced:!0,state:{swipers:[],list:[],curRank:"1-1",curPage:1,rankList:[],curCate:"",cateList:[],pageList:[],moreStatus:"loadmore",detail:{},rcid:"",fltList:[],direct:{},content:{}},mutations:{updateHomeData:function(e,t){e.updateStatus=!!t},updateSwipers:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.swipers=_toConsumableArray(t)},updateList:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.list=_toConsumableArray(t)},updateRankList:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.rankList=_toConsumableArray(t)},updateCateList:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.cateList=_toConsumableArray(t)},setPageList:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.pageList=_toConsumableArray(t)},updatePageList:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.pageList=[].concat(_toConsumableArray(e.pageList),_toConsumableArray(t))},updateCurPage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;e.curpage=t},updateMoreStatus:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"loadmore";e.moreStatus=t},updateDetail:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.detail=_objectSpread({},t)},updateRcid:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e.rcid=t},updateFltList:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.fltList=_toConsumableArray(t)},updateDirect:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.direct=_objectSpread({},t)},updateContent:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.content=_objectSpread({},t)}},actions:{getHomeData:function(e,t){return _asyncToGenerator(_regenerator.default.mark((function t(){var a,n,r;return _regenerator.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,uni.hideLoading(),uni.showLoading({title:"\u52a0\u8f7d\u4e2d"}),t.prev=3,n=_ajax.default.get(_comics.default.urls[0]),r=_ajax.default.get(_comics.default.urls[1]),t.next=8,Promise.race([n,r]).then((function(e){var t=[],n=[],r=(0,_htmlParser.default)((0,_util.tostring)(e.data)),i=r.getElementsByClassName("swiper-wrapper"),o=new _htmlParser.default(i),s=o.getElementsByTagName("a"),u=o.getElementsByTagName("img");_lodash.default.each([].concat(s||[]),(function(e,a){var n={href:e.attributes.href.replace(/\//g,""),image:u[a].attributes["data-src"],title:u[a].attributes.alt};t.push(n)})),t.length&&a("updateSwipers",t);var c=r.getElementsByClassName("floor");_lodash.default.each([].concat(c||[]),(function(e,t){var a=new _htmlParser.default(e),r=a.getElementsByClassName("title")[0],i=new _htmlParser.default(r),o=i.getElementsByTagName("a")[0],s=i.getElementsByTagName("span")[0],u=s.innerHTML,c=o.attributes.href;n[t]||(n[t]={}),n[t].title=u,n[t].more=c;var l=a.getElementsByClassName("comic-big")[0];if(l){var d=new _htmlParser.default(l),f=d.getElementsByTagName("a")[0],p=f.attributes.href.replace(/\//g,""),m=new _htmlParser.default(f),g=m.getElementsByTagName("img")[0],h=g.attributes["data-src"],_=m.getElementsByTagName("p"),v=_[0].innerHTML,y=_[1].innerHTML;n[t]||(n[t]={}),n[t].list=[].concat(n[t].list||[],{name:v,update:y,href:p,imgSrc:h})}var b=a.getElementsByClassName("m-up-item1");_lodash.default.each([].concat(b||[]),(function(e,a){var r=new _htmlParser.default(e),i=r.getElementsByTagName("img")[0],o=i.attributes["data-src"],s=r.getElementsByTagName("a")[0],u=s.attributes.href.replace(/\//g,""),c=r.getElementsByClassName("comic-name")[0],l=(0,_util.trimInnerHtml)(c.innerHTML),d=r.getElementsByClassName("tag-box")[0],f=(0,_util.trimInnerHtml)(d.innerHTML),p=r.getElementsByClassName("comic-click")[0],m=(0,_util.trimInnerHtml)(p.innerHTML);n[t].list=[].concat(n[t].list||[],{name:l,update:m,href:u,imgSrc:o,author:f})}));var w=a.getElementsByClassName("comic-item");_lodash.default.each([].concat(w||[]),(function(e,a){var r=new _htmlParser.default(e),i=r.getElementsByTagName("a")[0],o=i.attributes.href.replace(/\//g,""),s=r.getElementsByClassName("comic-name")[0],u=r.getElementsByClassName("comic-tip")[0],c=r.getElementsByTagName("img")[0],l=s.innerHTML,d=u.innerHTML,f=c.attributes["data-src"];n[t]||(n[t]={}),n[t].list=[].concat(n[t].list||[],{name:l,update:d,href:o,imgSrc:f})}))})),n.length&&a("updateList",n)}));case 8:uni.hideLoading(),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](3),uni.hideLoading(),__f__("log",t.t0," at store/modules/comic.js:190");case 15:case"end":return t.stop()}}),t,null,[[3,11]])})))()},getRankList:function(e){return _asyncToGenerator(_regenerator.default.mark((function t(){var a,n,r;return _regenerator.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.prev=1,n=_ajax.default.get(_comics.default.urls[0]+"/rank/1-1.html"),r=_ajax.default.get(_comics.default.urls[1]+"/rank/1-1.html"),t.next=6,Promise.race([n,r]).then((function(e){var t=[],n=(0,_htmlParser.default)((0,_util.tostring)(e.data)),r=n.getElementsByClassName("rank-nav-item");_lodash.default.each([].concat(r||[]),(function(e,a){var n=new _htmlParser.default(e),r=n.getElementsByTagName("a")[0],i=r.attributes.href,o=(0,_util.trimInnerHtml)(r.innerHTML);t.push({name:o,href:i})})),t.length&&a("updateRankList",t)}));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),__f__("log",t.t0," at store/modules/comic.js:216");case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()},getCateList:function(e){return _asyncToGenerator(_regenerator.default.mark((function t(){var a,n,r;return _regenerator.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e.commit;try{n=_ajax.default.get(_comics.default.urls[0]+"/sort/1-1.html"),r=_ajax.default.get(_comics.default.urls[1]+"/sort/1-1.html"),Promise.race([n,r]).then((function(e){var t=[],n=(0,_htmlParser.default)((0,_util.tostring)(e.data)),r=n.getElementsByClassName("rank-nav-item");_lodash.default.each([].concat(r||[]),(function(e,a){var n=new _htmlParser.default(e),r=n.getElementsByTagName("a")[0],i=r.attributes.href,o=(0,_util.trimInnerHtml)(r.innerHTML);t.push({name:o,href:i})})),t.length,a("updateCateList",t)}))}catch(i){__f__("log",i," at store/modules/comic.js:242")}case 2:case"end":return t.stop()}}),t)})))()},getList:function(e){var t=arguments;return _asyncToGenerator(_regenerator.default.mark((function a(){var n,r,i,o;return _regenerator.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,r=t.length>1&&void 0!==t[1]?t[1]:"/sort/1-1.html",uni.hideLoading(),uni.showLoading({title:"\u52a0\u8f7d\u4e2d"}),a.prev=4,i=_ajax.default.get(_comics.default.urls[0]+r),o=_ajax.default.get(_comics.default.urls[1]+r),a.next=9,Promise.race([i,o]).then((function(e){var t=[],a=(0,_htmlParser.default)((0,_util.tostring)(e.data)),r=a.getElementsByClassName("rank-item");_lodash.default.each([].concat(r||[]),(function(e,a){var n=new _htmlParser.default(e),r=n.getElementsByTagName("a")[0],i=n.getElementsByTagName("img")[0],o=n.getElementsByClassName("comic-name")[0],s=n.getElementsByClassName("comic-author")[0],u=n.getElementsByClassName("comic-tip")[0],c=r.attributes.href.replace(/\//g,""),l=i.attributes["data-src"],d=(0,_util.trimInnerHtml)(o.innerHTML),f=(0,_util.trimInnerHtml)(s.innerHTML),p=(0,_util.trimInnerHtml)(u.innerHTML);t.push({id:c,imgurl:l,name:d,author:f,remarks:p})})),n("setPageList",t),n("updateCurPage"),n("updateMoreStatus")}));case 9:uni.hideLoading(),a.next=16;break;case 12:a.prev=12,a.t0=a["catch"](4),uni.hideLoading(),__f__("log",a.t0," at store/modules/comic.js:287");case 16:case"end":return a.stop()}}),a,null,[[4,12]])})))()},getListMore:function(e){var t=arguments;return _asyncToGenerator(_regenerator.default.mark((function a(){var n,r,i,o,s,u,c,l,d;return _regenerator.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,r=e.state,i=t.length>1&&void 0!==t[1]?t[1]:"/sort/1-1.html",uni.hideLoading(),uni.showLoading({title:"\u52a0\u8f7d\u4e2d"}),a.prev=4,n("updateMoreStatus","loading"),o=i.match(/\/(\w+)\/(\d+)-\d+\.html/),s="sort"===o[1]?"sort/":"",u=o[2],c=r.curPage,l=_ajax.default.get(_comics.default.urls[0]+"/ajaxf/"+s+"?page_num="+c+"&type="+u),d=_ajax.default.get(_comics.default.urls[1]+"/ajaxf/"+s+"?page_num="+c+"&type="+u),a.next=14,Promise.race([l,d]).then((function(e){var t=Array.isArray(e.data)?e.data:null;n("updateMoreStatus",t?"loadmore":"nomore"),n("updatePageList",t||[]),n("updateCurPage",c+1)}));case 14:uni.hideLoading(),a.next=22;break;case 17:a.prev=17,a.t0=a["catch"](4),n("updateMoreStatus","nomore"),uni.hideLoading(),__f__("log",a.t0," at store/modules/comic.js:317");case 22:case"end":return a.stop()}}),a,null,[[4,17]])})))()},getDetail:function(e,t){return _asyncToGenerator(_regenerator.default.mark((function a(){var n,r,i;return _regenerator.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.state,n=e.commit,uni.hideLoading(),uni.showLoading({title:"\u52a0\u8f7d\u4e2d"}),a.prev=3,r=_ajax.default.get("".concat(_comics.default.urls[0],"/").concat(t,"/")),i=_ajax.default.get("".concat(_comics.default.urls[1],"/").concat(t,"/")),a.next=8,Promise.race([r,i]).then((function(e){var t=(0,_htmlParser.default)((0,_util.tostring)(e.data)),a=t.getElementsByClassName("comic-info-box")[0],r=new _htmlParser.default(a),i=r.getElementsByTagName("img")[0],o=r.getElementsByTagName("h1")[0],s=r.getElementsByTagName("p"),u="",c="",l="",d="",f=[];_lodash.default.each([].concat(s||[]),(function(e){var t=(0,_util.trimInnerHtml)(e.innerHTML);if(f.push(t),t.includes("\u4f5c\u8005")&&(u=t),t.includes("\u66f4\u65b0")&&(d=t),t.includes("\u6700\u65b0\u7ae0\u8282")){var a=new _htmlParser.default(e),n=a.getElementsByTagName("a")[0];c=n.attributes.href,l=t}}));var p=t.getElementsByClassName("start-read")[0],m=p.attributes.href,g=t.getElementsByClassName("comic-intro")[0],h=(0,_util.trimInnerHtml)(g.innerHTML),_=t.getElementsByClassName("comic-recommend")[0],v=new _htmlParser.default(_),y=v.getElementsByClassName("rec-item"),b=[];_lodash.default.each([].concat(y||[]),(function(e){var t=new _htmlParser.default(e),a=t.getElementsByTagName("a")[0],n=t.getElementsByTagName("img")[0],r=t.getElementsByClassName("comic-name")[0];b.push({href:a.attributes.href.replace(/\//g,""),imgSrc:n.attributes["data-src"],name:(0,_util.trimInnerHtml)(r.innerHTML)})}));var w={imgSrc:i.attributes.src,name:(0,_util.trimInnerHtml)(o.innerHTML),author:u,fcid:m,lcid:c,lcname:l,ltime:d,infoList:f,desc:h,recList:b};n("updateDetail",w)}));case 8:uni.hideLoading(),a.next=15;break;case 11:a.prev=11,a.t0=a["catch"](3),uni.hideLoading(),__f__("log",a.t0," at store/modules/comic.js:393");case 15:case"end":return a.stop()}}),a,null,[[3,11]])})))()},getDirect:function(e,t){return _asyncToGenerator(_regenerator.default.mark((function a(){var n,r,i,o,s,u,c;return _regenerator.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,uni.hideLoading(),uni.showLoading({title:"\u52a0\u8f7d\u4e2d"}),a.prev=3,r=_ajax.default.get("".concat(_comics.default.urls[0],"/").concat(t,"/")),i=_ajax.default.get("".concat(_comics.default.urls[1],"/").concat(t,"/")),o=_ajax.default.post({url:"".concat(_comics.default.urls[0],"/bookchapter/"),header:{Accept:"*/*","Content-Type":"application/x-www-form-urlencoded"},data:{id:t,id2:"1"}}),s=_ajax.default.post({url:"".concat(_comics.default.urls[1],"/bookchapter/"),header:{"Content-Type":"application/x-www-form-urlencoded"},data:{id:t,id2:"1"}}),u=[],c="",a.next=12,Promise.race([r,i]).then((function(e){var t=(0,_htmlParser.default)((0,_util.tostring)(e.data)),a=t.getElementsByTagName("h1")[0];c=(0,_util.trimInnerHtml)(a.innerHTML);var n=t.getElementsByClassName("chapter-item");_lodash.default.each([].concat(n||[]),(function(e){var t=new _htmlParser.default(e),a=t.getElementsByTagName("a")[0],n=a.attributes.href.match(/\/(\w+)\./),r=n?n[1]:null,i=(0,_util.trimInnerHtml)(a.innerHTML);r&&u.push({id:r,name:i})}))}));case 12:return a.next=14,Promise.race([o,s]).then((function(e){200===e.statusCode&&(u=[].concat(u,e.data||[]))}));case 14:return a.next=16,n("updateDirect",{name:c,list:u});case 16:uni.hideLoading(),a.next=23;break;case 19:a.prev=19,a.t0=a["catch"](3),uni.hideLoading(),__f__("log",a.t0," at store/modules/comic.js:445");case 23:case"end":return a.stop()}}),a,null,[[3,19]])})))()},getFltList:function(e,t){return _asyncToGenerator(_regenerator.default.mark((function a(){var n,r,i;return _regenerator.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,a.prev=1,uni.hideLoading(),uni.showLoading({title:"\u52a0\u8f7d\u4e2d"}),r=_ajax.default.get("".concat(_comics.default.urls[0],"/spotlight/?keyword=").concat(t)),i=_ajax.default.get("".concat(_comics.default.urls[1],"/spotlight/?keyword=").concat(t)),a.next=8,Promise.race([r,i]).then((function(e){var t=(0,_htmlParser.default)((0,_util.tostring)(e.data)),a=t.getElementsByClassName("comic-list-item"),r=[];_lodash.default.each([].concat(a||[]),(function(e){var t=new _htmlParser.default(e),a=t.getElementsByTagName("a")[0],i=a.attributes.href.replace(/\//g,""),o=t.getElementsByTagName("img")[0],s=o.attributes.src,u=t.getElementsByClassName("comic-name")[0],c=(0,_util.trimInnerHtml)(u.innerHTML),l=t.getElementsByClassName("comic-author")[0],d=(0,_util.trimInnerHtml)(l.innerHTML),f=t.getElementsByClassName("comic-tags")[0],p=(0,_util.trimInnerHtml)(f.innerHTML),m=t.getElementsByClassName("comic-update-at")[0],g=(0,_util.trimInnerHtml)(m.innerHTML);r.push({id:i,imgSrc:s,name:c,author:d,tag:p,update:g}),r.length&&n("updateFltList",r)}))}));case 8:uni.hideLoading(),a.next=15;break;case 11:a.prev=11,a.t0=a["catch"](1),uni.hideLoading(),__f__("log",a.t0," at store/modules/comic.js:491");case 15:case"end":return a.stop()}}),a,null,[[1,11]])})))()},getRead:function getRead(_ref9,cid){return _asyncToGenerator(_regenerator.default.mark((function _callee9(){var commit,url1,url2,bid;return _regenerator.default.wrap((function _callee9$(_context9){while(1)switch(_context9.prev=_context9.next){case 0:return commit=_ref9.commit,uni.hideLoading(),uni.showLoading({title:"\u52a0\u8f7d\u4e2d"}),_context9.prev=3,url1=_ajax.default.get("".concat(_comics.default.urls[0],"/").concat(cid)),url2=_ajax.default.get("".concat(_comics.default.urls[1],"/").concat(cid)),bid=cid.match(/\/(\d+)\//)[1],_context9.next=9,Promise.race([url1,url2]).then((function(res){var doc=(0,_htmlParser.default)((0,_util.tostring)(res.data)),scripts=doc.getElementsByTagName("script"),imgList=[];_lodash.default.each([].concat(scripts||[]),(function(st){var str="";if(st.innerHTML.includes("eval(function")){str=st.innerHTML.trim();var sc=str.substring(5,str.length-1),newImgs=eval("("+sc+")"),imgs=newImgs.replace("var newImgs=","");imgList=JSON.parse(imgs)}}));var names=doc.getElementsByClassName("comic-name")[0],cname=(0,_util.trimInnerHtml)(names.innerHTML),prev=doc.getElementsByClassName("prev-chapter")[0],prevDoc=new _htmlParser.default(prev),prevA=prevDoc.getElementsByTagName("a")[0],prevHref=prevA.attributes.href,next=doc.getElementsByClassName("next-chapter")[0],nextDoc=new _htmlParser.default(next),nextA=nextDoc.getElementsByTagName("a")[0],nextHref=nextA.attributes.href,content={bid:bid,cid:cid,cname:cname,imgList:imgList,prevHref:prevHref,nextHref:nextHref};commit("updateContent",content)}));case 9:uni.hideLoading(),_context9.next=15;break;case 12:_context9.prev=12,_context9.t0=_context9["catch"](3),uni.hideLoading();case 15:case"end":return _context9.stop()}}),_callee9,null,[[3,12]])})))()}},getters:{}};exports.default=_default}).call(this,__webpack_require__("0de9")["default"])},cc3e:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Decrypt=o;var n=a("8447"),r=n.enc.Utf8.parse("1234123412ABCDEF"),i=n.enc.Utf8.parse("ABCDEF1234123412");function o(e){var t=n.enc.Hex.parse(e),a=n.enc.Base64.stringify(t),o=n.AES.decrypt(a,r,{iv:i,mode:n.mode.CBC,padding:n.pad.Pkcs7}),s=o.toString(n.enc.Utf8);return s.toString()}},d2b2:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _regenerator=_interopRequireDefault(__webpack_require__("a34a")),_lodash=_interopRequireDefault(__webpack_require__("a228")),_ajax=_interopRequireDefault(__webpack_require__("6b8d")),_books=_interopRequireDefault(__webpack_require__("e603"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function asyncGeneratorStep(e,t,a,n,r,i,o){try{var s=e[i](o),u=s.value}catch(c){return void a(c)}s.done?t(u):Promise.resolve(u).then(n,r)}function _asyncToGenerator(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var i=e.apply(t,a);function o(e){asyncGeneratorStep(i,n,r,o,s,"next",e)}function s(e){asyncGeneratorStep(i,n,r,o,s,"throw",e)}o(void 0)}))}}function ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(a),!0).forEach((function(t){_defineProperty(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"===typeof e)return _arrayLikeToArray(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var sexName=["lady","man"],_default={namespaced:!0,state:{loading:!1,sex:0===uni.getStorageSync("sex")?0:1,banners:[],list:[],bookList:[],hasNextPage:!0,fltList:[],detail:{},direct:{},cates:[],content:{},rcid:-1,page:1,curRank:0,curCate:0,curDate:0,dateList:[{id:"total",name:"\u5168\u90e8"},{id:"week",name:"\u5468\u699c"},{id:"month",name:"\u6708\u699c"},{id:"total",name:"\u603b\u699c"}],rankList:[{id:"hot",name:"\u70ed\u95e8"},{id:"new",name:"\u65b0\u4e66"},{id:"over",name:"\u5b8c\u672c"},{id:"vote",name:"\u8bc4\u5206"},{id:"collect",name:"\u6536\u85cf"},{id:"commend",name:"\u63a8\u8350"}],cateRankList:[{id:"hot",name:"\u70ed\u95e8"},{id:"new",name:"\u65b0\u4e66"},{id:"over",name:"\u5b8c\u672c"},{id:"vote",name:"\u8bc4\u5206"}]},mutations:{updateLoading:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.loading=t},updateSex:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;e.sex=t,uni.setStorageSync("sex",t),e.page=1,e.bookList=[],e.hasNextPage=!0},updateBanners:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.banners=_toConsumableArray(t)},updateList:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.list=t,e.curRank=0,e.curCate=0,e.curDate=0,e.page=1,e.bookList=[],e.hasNextPage=!0},updateCates:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.cates=_toConsumableArray(t)},updateTabs:function(e,t){var a=t.type,n=t.value;"curCate"===a&&e.curRank>3&&(e.curRank=0),"curDate"===a&&n>0&&(e.curCate=0),"curCate"===a&&n>0&&(e.curDate=0),e[a]=n,e.page=1,e.bookList=[],e.hasNextPage=!0},updatePage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;e.page=t},updateBookList:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.bookList=[].concat(e.bookList,t)},clearBookList:function(e){e.bookList=[]},updateFltList:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.fltList=[].concat(e.fltList,t)},clearFltList:function(e){e.fltList=[]},updateHasNextPage:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.hasNextPage=t},updateDetail:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.detail=_objectSpread({},t)},updateDirect:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.direct=_objectSpread({},t)},updateContent:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.content=_objectSpread({},t)},updateRcid:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e.rcid=t}},actions:{getBooks:function(e,t){return _asyncToGenerator(_regenerator.default.mark((function a(){var n,r,i,o,s,u,c,l,d,f,p,m;return _regenerator.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,r=e.state,uni.hideLoading(),uni.showLoading({title:"\u52a0\u8f7d\u4e2d"}),a.prev=3,n("updateLoading",!0),i=_books.default.urls,o=i.length,s=Math.floor(Math.random()*o),u=i[s],c=r.sex,l=[],d=[],f=_books.default.swiper.replace("{sex}",sexName[c]),p=u.replace("{sex}",sexName[c]),m=[_ajax.default.get(f),_ajax.default.get(p)],a.next=17,Promise.all(m).then((function(e){e[0]&&200===e[0].statusCode&&(d[c]=[].concat(e[0].data.data),n("updateBanners",d)),e[1]&&200===e[1].statusCode&&(l[c]=[].concat(e[1].data.data),n("updateList",l)),n("updateLoading",!1),t&&t()}));case 17:uni.hideLoading(),a.next=23;break;case 20:a.prev=20,a.t0=a["catch"](3),t&&t();case 23:case"end":return a.stop()}}),a,null,[[3,20]])})))()},getCates:function(e){return _asyncToGenerator(_regenerator.default.mark((function t(){var a;return _regenerator.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.state,a=e.commit,uni.hideLoading(),uni.showLoading({title:"\u83b7\u53d6\u5206\u7c7b"}),t.prev=3,t.next=6,_ajax.default.get(_books.default.cateList).then((function(e){e&&200===e.statusCode&&a("updateCates",e.data.data)}));case 6:uni.hideLoading(),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](3),uni.hideLoading();case 12:case"end":return t.stop()}}),t,null,[[3,9]])})))()},getList:function(e,t){return _asyncToGenerator(_regenerator.default.mark((function a(){var n,r,i,o,s,u,c,l,d;return _regenerator.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=e.state,r=e.commit,t&&r("clearBookList"),n.hasNextPage){a.next=4;break}return a.abrupt("return");case 4:if(uni.hideLoading(),uni.showLoading({title:"\u52a0\u8f7d\u4e2d"}),a.prev=6,i="",o=n.sex,s=n.page,u=n.rankList[n.curRank].id,c=n.dateList[n.curDate].id,l=0===n.curCate?0:n.curCate-1,d=n.cates[l].Id,i=n.curCate>0?_books.default.cateDetail.replace("{id}",d).replace("{type}",u).replace("{page}",s):_books.default.type.replace("{sex}",sexName[o]).replace("{type}",u).replace("{date}",c).replace("{page}",s),a.t0=i,!a.t0){a.next=19;break}return a.next=19,_ajax.default.get(i).then((function(e){if(e&&200===e.statusCode){var t=e.data.data.BookList,a=e.data.data.HasNext,i=n.page+1;r("updateBookList",t),r("updateHasNextPage",a),a&&r("updatePage",i)}}));case 19:uni.hideLoading(),a.next=25;break;case 22:a.prev=22,a.t1=a["catch"](6),uni.hideLoading();case 25:case"end":return a.stop()}}),a,null,[[6,22]])})))()},getFltList:function(e,t){return _asyncToGenerator(_regenerator.default.mark((function a(){var n,r;return _regenerator.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=e.state,r=e.commit,n.hasNextPage){a.next=3;break}return a.abrupt("return");case 3:return uni.hideLoading(),uni.showLoading({title:"\u52a0\u8f7d\u4e2d"}),a.prev=5,a.next=8,_ajax.default.get(t).then((function(e){if(e&&200===e.statusCode){var t=e.data.data.BookList||e.data.data,a=e.data.data.HasNext,i=n.page+1;r("updateFltList",t),r("updateHasNextPage",a),a&&r("updatePage",i)}}));case 8:uni.hideLoading(),a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](5),uni.hideLoading();case 14:case"end":return a.stop()}}),a,null,[[5,11]])})))()},getDetail:function(e,t){return _asyncToGenerator(_regenerator.default.mark((function a(){var n;return _regenerator.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,uni.hideLoading(),uni.showLoading({title:"\u52a0\u8f7d\u4e2d"}),a.prev=3,a.next=6,_ajax.default.get(t).then((function(e){e&&200===e.statusCode&&n("updateDetail",e.data.data)}));case 6:uni.hideLoading(),a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](3),uni.hideLoading();case 12:case"end":return a.stop()}}),a,null,[[3,9]])})))()},getDirect:function getDirect(_ref7,url){return _asyncToGenerator(_regenerator.default.mark((function _callee6(){var commit;return _regenerator.default.wrap((function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:return commit=_ref7.commit,uni.hideLoading(),uni.showLoading({title:"\u52a0\u8f7d\u4e2d"}),_context6.prev=3,_context6.next=6,_ajax.default.get(url).then((function(res){if(res&&200===res.statusCode){var data=eval("("+res.data+")");commit("updateDirect",data.data)}}));case 6:uni.hideLoading(),_context6.next=12;break;case 9:_context6.prev=9,_context6.t0=_context6["catch"](3),uni.hideLoading();case 12:case"end":return _context6.stop()}}),_callee6,null,[[3,9]])})))()},getRead:function(e,t){return _asyncToGenerator(_regenerator.default.mark((function a(){var n;return _regenerator.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,uni.hideLoading(),uni.showLoading({title:"\u52a0\u8f7d\u4e2d"}),a.prev=3,a.next=6,_ajax.default.get(t).then((function(e){e&&200===e.statusCode&&n("updateContent",e.data.data)}));case 6:uni.hideLoading(),a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](3),uni.hideLoading();case 12:case"end":return a.stop()}}),a,null,[[3,9]])})))()}},getters:{bannerImgs:function(e){var t=e.sex,a=e.banners[t]||[];return a.map((function(e){return e.image=e.imgurl,e.imgurl}))},cateList:function(e){var t=e.cates.map((function(e){return e.name=e.Name,e}));return t.unshift({Id:"none",name:"\u5168\u90e8",Name:"\u5168\u90e8"}),t}}};exports.default=_default},e603:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={urls:["https://scxs.pysmei.com/prov8/base/{sex}_fqhyxs.html","https://scxs.pysmei.com/prov8/base/{sex}.html","https://scxs.pysmei.com/prov8/base/{sex}2.html"],url:"https://scxs.pysmei.com/prov8/base/{sex}_fqhyxs.html",swiper:"https://scxs.pysmei.com/prov8/base/banner_{sex}.html",pic:"https://imgapixs.pysmei.com//BookFiles/BookImages/",view:"https://infosxs.pysmei.com/BookFiles/Html/{id}/info.html",direct:"https://infosxs.pysmei.com/BookFiles/Html/{id}/index.html",read:"https://contentxs.pysmei.com//BookFiles/Html/{id}/{cid}.html",type:"https://scxs.pysmei.com/top/{sex}/top/{type}/{date}/{page}.html",cateList:"https://scxs.pysmei.com/Categories/BookCategory.html",cateDetail:"https://scxs.pysmei.com/Categories/{id}/{type}/{page}.html",list:"https://scxs.pysmei.com/shudan/{sex}/all/{type}/{page}.html",detail:"https://infosxs.pysmei.com/shudan/detail/{id}.html",search:"https://souxs.leeyegy.com/search.aspx?key={sw}&page={page}&siteid=app2",staticFiles:"https://scxs.pysmei.com//StaticFiles/NewHotBook.html"},r=n;t.default=r},f7c7:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(a("a34a")),r=l(a("e229")),i=l(a("a228")),o=l(a("6b8d")),s=a("cc3e"),u=l(a("8365")),c=l(a("7bd1"));function l(e){return e&&e.__esModule?e:{default:e}}function d(e,t,a,n,r,i,o){try{var s=e[i](o),u=s.value}catch(c){return void a(c)}s.done?t(u):Promise.resolve(u).then(n,r)}function f(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var i=e.apply(t,a);function o(e){d(i,n,r,o,s,"next",e)}function s(e){d(i,n,r,o,s,"throw",e)}o(void 0)}))}}function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){g(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function g(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var h=c.default.configUrl,_=c.default.adultWords,v=void 0,y={namespaced:!0,state:{loading:!1,config:{},videoList:[],siteOptions:[],curSite:0,cateOptions:[],curCate:-1,page:1,pageCount:1,sw:"",vid:"",current:0,playIndex:[],detail:{},detailUrl:"",download:[],detailImg:""},mutations:{updateLoading:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.loading=t},updateConfig:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.config=t},updateVideoList:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.videoList=t},clearVideoList:function(e){e.videoList=[]},updateSiteOptions:function(e){var t=!!uni.getStorageSync("childMode"),a=i.default.get(e,"config.sites",[]),n=i.default.isEmpty(a)?[].concat(u.default):a,r=i.default.filter(n,(function(e){return null==e.isActive?!!e:e.isActive})),o=uni.getStorageSync("source")||[],s=[].concat(r,o),c=i.default.map(s,(function(e,t){return m(m({},e),{},{label:e.name,value:t})}));t&&(c=i.default.filter(c,(function(e){return e.group?!e.group.includes("18\u7981"):e}))),e.siteOptions=c},updateCateOptions:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.cateOptions=t},updateCurSite:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e.curSite=t},updateCurCate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;e.curCate=t},updatePage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;e.page=t},updatePageCount:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;e.pageCount=t},updateSw:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e.sw=t,t&&(e.curCate=-1,e.page=1,e.pageCount=1)},updateDetail:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.detail=t},updateDetailUrl:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.detailUrl=t},updateDownload:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.download=t},updateCurrent:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e.current=t},updatePlayIndex:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.playIndex=t}},actions:{getAppConfigs:function(t,a){var n=t.commit;try{o.default.get(h).then((function(e){var t=e.data;if(t){var r=(0,s.Decrypt)(t),i=JSON.parse(r);uni.setStorageSync("config",i),n("updateConfig",i)}a&&a()}))}catch(r){e("log","getAppConfigs error",r," at store/modules/video.js:120"),a&&a()}},getCates:function(t){return f(n.default.mark((function a(){var s,u,c,l,d,f;return n.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(s=t.state,u=t.commit,a.prev=1,c=s.siteOptions,l=i.default.get(c[s.curSite],"api"),l){a.next=6;break}return a.abrupt("return");case 6:return d=new r.default.Parser,a.next=9,o.default.get(l);case 9:f=a.sent,d.parseString(f.data,(function(e,t){if(!e){var a=i.default.isEmpty(t.rss.class)?[]:t.rss.class[0].ty,n=i.default.map(a,(function(e,t){return{label:e._,value:t,id:i.default.isUndefined(e.$.id)?0:e.$.id}})),r=!!uni.getStorageSync("childMode"),o=uni.getStorageSync("cateFilters")||"";if(r){var c=s.config.adultWords,l=i.default.isUndefined(c)?_:c;n=i.default.filter(n,(function(e){return!l.some((function(t){return t&&e.label.includes(t)}))}))}if(o){var d=o.split("$");n=i.default.filter(n,(function(e){return!d.some((function(t){return t&&e.label.includes(t)}))}))}u("updateCateOptions",n)}v=void 0,u("updateLoading",!1),uni.stopPullDownRefresh(),uni.hideLoading()})),a.next=20;break;case 13:a.prev=13,a.t0=a["catch"](1),e("log","getCates error",a.t0," at store/modules/video.js:163"),v=void 0,u("updateLoading",!1),uni.stopPullDownRefresh(),uni.hideLoading();case 20:case"end":return a.stop()}}),a,null,[[1,13]])})))()},getVideoData:function(t){var a=this;return f(n.default.mark((function s(){var u,c,l,d,f,p,m,g,h,y,b,w;return n.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(u=t.commit,c=t.state,uni.hideLoading(),uni.showLoading({title:"\u52a0\u8f7d\u4e2d"}),!c.loading){n.next=5;break}return n.abrupt("return");case 5:if(n.prev=5,l=c.page,d=c.pageCount,!(l>d)){n.next=12;break}return uni.stopPullDownRefresh(),uni.hideLoading(),n.abrupt("return");case 12:if(u("updateLoading",!0),uni.stopPullDownRefresh(),f=c.siteOptions,p=c.curSite,m=c.curCate,g=c.sw,h=i.default.get(f[p],"api"),h){n.next=21;break}return n.abrupt("return");case 21:y="".concat(h,"?ac=videolist&pg=").concat(l),-1!==m&&(b=c.cateOptions,w=b[m].id,y="".concat(y,"&t=").concat(w)),g&&(y="".concat(f[p].api,"?pg=").concat(l,"&wd=").concat(encodeURIComponent(g))),v&&v.abort(),v=o.default.get(y).then((function(e){!g&&uni.hideLoading(),!g&&uni.stopPullDownRefresh(),v=void 0;var t=new r.default.Parser;t.parseString(e.data,(function(e,t){if(!e){var n=!!uni.getStorageSync("childMode"),s=i.default.isEmpty(t.rss.list[0].$)?{}:t.rss.list[0].$,d=i.default.isEmpty(t.rss.list[0].video)?[]:t.rss.list[0].video,m=uni.getStorageSync("cateFilters")||"",h=uni.getStorageSync("nameFilters")||"";if(g&&!i.default.isEmpty(d)&&(d=i.default.filter(d,(function(e){return e.name[0].toLowerCase().includes(g.toLowerCase())}))),n){var y=(a.config||{}).adultWords,b=i.default.isUndefined(y)?_:y;d=i.default.filter(d,(function(e){var t=e.name[0],a=e.tid[0],n=i.default.find(c.cateOptions,(function(e){return e.id===a})),r=(n||{}).label;return n&&!b.some((function(e){return t.includes(e)||r.includes(e)}))}))}if(m){var w=m.split("$");d=i.default.filter(d,(function(e){var t=e.tid[0],a=i.default.find(c.cateOptions,(function(e){return e.id===t})),n=(a||{}).label;return a&&!w.some((function(e){return e&&n.includes(e)}))}))}if(h){var L=h.split("$");d=i.default.filter(d,(function(e){var t=e.name[0];return!L.some((function(e){return e&&t.includes(e)}))}))}if(g&&!i.default.isEmpty(d)){var x="".concat(f[p].api,"?ac=videolist&pg=").concat(l),k=i.default.map(d,(function(e){return e.id[0]})).join(",");x="".concat(x,"&ids=").concat(k),v=o.default.get(x).then((function(e){uni.stopPullDownRefresh();var t=new r.default.Parser;t.parseString(e.data,(function(e,t){i.default.isEmpty(t.rss.list[0].$)||t.rss.list[0].$;var a=i.default.isEmpty(t.rss.list[0].video)?[]:t.rss.list[0].video;if(g&&!i.default.isEmpty(a)&&(a=i.default.filter(a,(function(e){return e.name[0].toLowerCase().includes(g.toLowerCase())}))),n){var r=c.config.adultWords,o=i.default.isUndefined(r)?_:r;a=i.default.filter(a,(function(e){var t=e.name[0],a=e.tid[0],n=i.default.find(c.cateOptions,(function(e){return e.id===a})),r=(n||{}).label;return n&&!o.some((function(e){return t.includes(e)||r.includes(e)}))}))}if(m){var s=m.split("$");a=i.default.filter(a,(function(e){var t=e.tid[0],a=i.default.find(c.cateOptions,(function(e){return e.id===t})),n=(a||{}).label;return a&&!s.some((function(e){return e&&n.includes(e)}))}))}if(h){var l=h.split("$");a=i.default.filter(a,(function(e){var t=e.name[0];return!l.some((function(e){return e&&t.includes(e)}))}))}var d=i.default.isEmpty(c.videoList)?[]:c.videoList;a=[].concat(d,a),a.sort((function(e,t){return new Date(t.last[0])-new Date(e.last[0])})),u("updateVideoList",a),u("updateLoading",!1)}))}))}else{var C=i.default.isEmpty(c.videoList)?[]:c.videoList;d=i.default.isEmpty(d)?[].concat(C):[].concat(C,d),d.sort((function(e,t){return new Date(t.last[0])-new Date(e.last[0])})),u("updateVideoList",d)}u("updatePageCount",1*s.pagecount||0),u("updatePage",1*s.page+1),u("updateLoading",!1),v=void 0,uni.stopPullDownRefresh(),uni.hideLoading()}}))})),n.next=35;break;case 28:n.prev=28,n.t0=n["catch"](5),e("log","getVideoData error :",n.t0," at store/modules/video.js:310"),v=void 0,u("updateLoading",!1),uni.stopPullDownRefresh(),uni.hideLoading();case 35:case"end":return n.stop()}}),s,null,[[5,28]])})))()},getDetail:function(t,a){return f(n.default.mark((function s(){var u,c,l,d,f,p,g,h,_,y,b,w,L,x,k,C,P;return n.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return u=t.commit,c=t.state,l=t.dispatch,d=a.vid,f=a.detailUrl,uni.stopPullDownRefresh(),uni.hideLoading(),uni.showLoading({title:"\u52a0\u8f7d\u8be6\u60c5"}),n.prev=5,p=c.siteOptions,g=c.curSite,h=i.default.get(p[g],"api",""),_=f||"".concat(h,"?ac=videolist&ids=").concat(d),"string"===typeof _&&u("updateDetailUrl",_),y=_.match(/(^http.*?)\?/),b=y?y[1]:"",w=i.default.find(p,(function(e){return e.api===b})),L=i.default.get(w,"download",w),x=i.default.get(w,"name",w),k=i.default.get(w,"jiexiUrl",""),C=i.default.get(w,"needjx",""),P="".concat(L,"?ac=videolist&ids=").concat(d),L&&l("getDownload",P),n.next=22,o.default.get(_).then((function(t){var a=new r.default.Parser;a.parseString(t.data,(function(t,a){if(e("log","getDetail",a,f," at store/modules/video.js:351"),uni.hideLoading(),!t){var n=a.rss.list&&a.rss.list[0].video&&a.rss.list[0].video[0];u("updateDetail",m(m({},n),{},{jiexiUrl:k,needjx:C,sourceName:x})||{})}}))})).catch((function(e){v=void 0,u("updateLoading",!1),uni.stopPullDownRefresh(),uni.hideLoading()}));case 22:n.next=29;break;case 24:n.prev=24,n.t0=n["catch"](5),e("log","getDetail error",n.t0," at store/modules/video.js:365"),uni.hideLoading(),uni.showToast({icon:"none",title:"\u7a0d\u540e\u518d\u8bd5"});case 29:case"end":return n.stop()}}),s,null,[[5,24]])})))()},getDownload:function(t,a){return f(n.default.mark((function i(){var s;return n.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.state,s=t.commit,n.prev=1,n.next=4,o.default.get(a).then((function(t){var a=new r.default.Parser;a.parseString(t.data,(function(t,a){if(e("log","getDownload",a," at store/modules/video.js:381"),uni.hideLoading(),!t){var n=a.rss.list&&a.rss.list[0].video&&a.rss.list[0].video[0],r=(((n||{}).dl||[])[0]||{}).dd||[];s("updateDownload",r)}}))}));case 4:n.next=9;break;case 6:n.prev=6,n.t0=n["catch"](1),e("log","getDownload",n.t0," at store/modules/video.js:391");case 9:case"end":return n.stop()}}),i,null,[[1,6]])})))()},updateStore:function(e,t){return f(n.default.mark((function a(){var r,i,o,s;return n.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:r=e.state,i=!!uni.getStorageSync("like##".concat(r.detailUrl)),o=r.detailUrl,s=m(m({},r.detail),{},{num:t,link:o,time:Date.now()}),uni.setStorage({key:"history##".concat(r.detailUrl),data:m(m({},s),{},{key:"history##".concat(r.detailUrl)})}),i&&uni.setStorage({key:"like##".concat(r.detailUrl),data:m(m({},s),{},{key:"like##".concat(r.detailUrl)})});case 6:case"end":return a.stop()}}),a)})))()}},getters:{status:function(e){return e.page>e.pageCount?"nomore":e.loading?"loading":"loadmore"}}};t.default=y}).call(this,a("0de9")["default"])}}]);