(this["webpackJsonp"]=this["webpackJsonp"]||[]).push([["app-confusion"],{"0f14":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Decrypt=o;var r=a("ef93"),n=r.enc.Utf8.parse("1234123412ABCDEF"),i=r.enc.Utf8.parse("ABCDEF1234123412");function o(e){var t=r.enc.Hex.parse(e),a=r.enc.Base64.stringify(t),o=r.AES.decrypt(a,n,{iv:i,mode:r.mode.CBC,padding:r.pad.Pkcs7}),s=o.toString(r.enc.Utf8);return s.toString()}},"4a38":function(e,t,a){"use strict";function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}function n(e,t){return n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(e,t)}function i(e){var t=u();return function(){var a,r=c(e);if(t){var n=c(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return o(this,a)}}function o(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?s(e):t}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,a){return t&&d(e.prototype,t),a&&d(e,a),e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var p={RewardedVideo:"RewardedVideo",FullScreenVideo:"FullScreenVideo"},g=function(){function e(){l(this,e),this._ads={}}return f(e,[{key:"load",value:function(e,t,a){var r=this._fixOldOptions(e),n=r.adpid;n&&!this.isBusy(n)&&this.get(r).load(t,a)}},{key:"show",value:function(e,t,a){var r=this._fixOldOptions(e),n=r.adpid;if(n){uni.showLoading({mask:!0});var i=this.get(r);i.load((function(){uni.hideLoading(),i.show((function(e){t&&t(e)}))}),(function(e){uni.hideLoading(),a&&a(e)}))}}},{key:"isBusy",value:function(e){return this._ads[e]&&this._ads[e].isLoading}},{key:"get",value:function(e){var t=e.adpid;return this._ads[t]||(this._ads[t]=this._createAdInstance(e)),this._ads[t]}},{key:"_createAdInstance",value:function(e){var t=e.adType||p.RewardedVideo;delete e.adType;var a=null;return t===p.RewardedVideo?a=new y(e):t===p.FullScreenVideo&&(a=new b(e)),a}},{key:"_fixOldOptions",value:function(e){return"string"===typeof e?{adpid:e}:e}}]),e}(),m=18e5,h={CSJ:"csj",GDT:"gdt"},_=1,v=function(){function e(t){var a=this;l(this,e),this._isLoad=!1,this._isLoading=!1,this._lastLoadTime=0,this._lastError=null,this._retryCount=0,this._loadCallback=null,this._closeCallback=null,this._errorCallback=null;var r=this._ad=t;r.onLoad((function(e){a._isLoading=!1,a._isLoad=!0,a._lastLoadTime=Date.now(),a.onLoad()})),r.onAdClicked((function(){uni.setStorageSync("isVVip",!0),uni.setStorageSync("vVipStart",Date.now())})),r.onClose((function(e){a._isLoad=!1,a.onClose(e)})),r.onVerify((function(e){})),r.onError((function(e){var t=e.code,r=e.message;a._isLoading=!1;var n={code:t,errMsg:r};if(-5008!==t){if(a._retryCount<_)return a._retryCount+=1,void a._loadAd();a._lastError=n,a.onError(n)}else a._loadAd()}))}return f(e,[{key:"getProvider",value:function(){return this._ad.getProvider()}},{key:"load",value:function(e,t){this._loadCallback=e,this._errorCallback=t,this._isLoading||(this._isLoad?this.onLoad():(this._retryCount=0,this._loadAd()))}},{key:"show",value:function(e){if(this._closeCallback=e,!this._isLoading&&this._isLoad)if(null===this._lastError){var t=this.getProvider();t===h.CSJ&&this.isExpired?this._loadAd():this._ad.show()}else this.onError(this._lastError)}},{key:"onLoad",value:function(e){null!=this._loadCallback&&this._loadCallback()}},{key:"onClose",value:function(e){null!=this._closeCallback&&this._closeCallback({isEnded:e.isEnded})}},{key:"onError",value:function(e){null!=this._errorCallback&&this._errorCallback(e)}},{key:"destroy",value:function(){this._ad.destroy()}},{key:"_loadAd",value:function(){this._isLoad=!1,this._isLoading=!0,this._lastError=null,this._ad.load()}},{key:"isExpired",get:function(){return 0!==this._lastLoadTime&&Math.abs(Date.now()-this._lastLoadTime)>m}},{key:"isLoading",get:function(){return this._isLoading}}]),e}(),y=function(e){r(a,e);var t=i(a);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l(this,a),t.call(this,plus.ad.createRewardedVideoAd(e),e)}return a}(v),b=function(e){r(a,e);var t=i(a);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l(this,a),t.call(this,plus.ad.createFullScreenVideoAd(e),e)}return a}(v),w=new g;t.default=w},"6efa":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={urls:["http://m.qiman6.com","http://m.qiman6.com"]},n=r;t.default=n},7397:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={urls:["https://scxs.pysmei.com/prov8/base/{sex}_fqhyxs.html","https://scxs.pysmei.com/prov8/base/{sex}.html","https://scxs.pysmei.com/prov8/base/{sex}2.html"],url:"https://scxs.pysmei.com/prov8/base/{sex}_fqhyxs.html",swiper:"https://scxs.pysmei.com/prov8/base/banner_{sex}.html",pic:"https://imgapixs.pysmei.com//BookFiles/BookImages/",view:"https://infosxs.pysmei.com/BookFiles/Html/{id}/info.html",direct:"https://infosxs.pysmei.com/BookFiles/Html/{id}/index.html",read:"https://contentxs.pysmei.com//BookFiles/Html/{id}/{cid}.html",type:"https://scxs.pysmei.com/top/{sex}/top/{type}/{date}/{page}.html",cateList:"https://scxs.pysmei.com/Categories/BookCategory.html",cateDetail:"https://scxs.pysmei.com/Categories/{id}/{type}/{page}.html",list:"https://scxs.pysmei.com/shudan/{sex}/all/{type}/{page}.html",detail:"https://infosxs.pysmei.com/shudan/detail/{id}.html",search:"https://souxs.leeyegy.com/search.aspx?key={sw}&page={page}&siteid=app2",staticFiles:"https://scxs.pysmei.com//StaticFiles/NewHotBook.html"},n=r;t.default=n},"827f":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=[{name:"\u5f39\u5e55",api:"http://cj.leduocaiji.com/inc/api.php",download:"",jiexiUrl:"https://www.xuehuayu.cn/v.html?vid=",isActive:!0},{key:"\u5feb\u64ad",name:"\u5feb\u64ad",api:"http://www.kuaibozy.com/api.php/provide/vod/at/xml",download:"",jiexiUrl:"",isActive:!0}],n=r;t.default=n},9913:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={adultWords:[],hideCate:["\u7535\u5f71","\u7535\u5f71\u7247","\u7535\u89c6\u5267","\u8fde\u7eed\u5267","\u7efc\u827a","\u52a8\u6f2b"],configUrl:"https://xhy.coding.net/p/cainiaoblog/d/cainiaoblog/git/raw/master/appConfigs/config"},n=r;t.default=n},cffa:function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=d(a("a34a")),n=d(a("4091")),i=d(a("0df0")),o=d(a("c037")),s=a("8384"),u=a("0f14"),c=d(a("9913")),l=d(a("827f"));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t,a,r,n,i,o){try{var s=e[i](o),u=s.value}catch(c){return void a(c)}s.done?t(u):Promise.resolve(u).then(r,n)}function p(e){return function(){var t=this,a=arguments;return new Promise((function(r,n){var i=e.apply(t,a);function o(e){f(i,r,n,o,s,"next",e)}function s(e){f(i,r,n,o,s,"throw",e)}o(void 0)}))}}function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){h(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function h(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var _=c.default.configUrl,v=c.default.adultWords,y=void 0,b={namespaced:!0,state:{loading:!1,searchLoading:!1,config:{},videoList:[],searchList:[],searchIndex:0,siteOptions:[],curSite:0,cateOptions:[],curCate:-1,page:1,pageCount:1,sw:"",vid:"",current:0,playIndex:[],detail:{},detailUrl:"",download:[],detailImg:""},mutations:{updateLoading:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.loading=t},updateSearchLoading:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.searchLoading=t},updateConfig:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.config=t},updateVideoList:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.videoList=t},clearVideoList:function(e){e.videoList=[]},updateSearchList:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.searchList=t},clearSearcList:function(e){e.searchList=[]},updateSearchIndex:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e.searchIndex=t},updateSiteOptions:function(e){var t=!!uni.getStorageSync("childMode"),a=uni.getStorageSync("config")||{},r=o.default.get(a,"sites",[]),n=o.default.isEmpty(r)?[].concat(l.default):r,i=o.default.filter(n,(function(e){return null==e.isActive?!!e:e.isActive})),s=uni.getStorageSync("source")||[],u=[].concat(i,s),c=o.default.map(u,(function(e,t){return m(m({},e),{},{label:e.name,value:t})}));t&&(c=o.default.filter(c,(function(e){return e.group?!e.group.includes("18\u7981"):e}))),e.siteOptions=c},updateCateOptions:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.cateOptions=t},updateCurSite:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e.curSite=t},updateCurCate:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;e.curCate=t},updatePage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;e.page=t},updatePageCount:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;e.pageCount=t},updateDetail:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.detail=t},updateDetailUrl:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.detailUrl=t},updateDownload:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.download=t},updateCurrent:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e.current=t},updatePlayIndex:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.playIndex=t}},actions:{getAppConfigs:function(t,a){var r=t.commit;try{uni.hideLoading(),uni.showLoading({title:"\u52a0\u8f7d\u914d\u7f6e",mask:!0}),i.default.get(_).then((function(e){if(uni.hideLoading(),200===e.statusCode){var t=o.default.get(e,"data");if(!t)return;var n=(0,u.Decrypt)(t),i=JSON.parse(n);uni.setStorageSync("config",i),r("updateConfig",i)}a&&a()}))}catch(n){e("log","getAppConfigs error",n.toString()," at store/modules/video.js:138"),uni.hideLoading(),a&&a()}},getCates:function(t,a){return p(r.default.mark((function s(){var u,c,l,d,f,p;return r.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(u=t.state,c=t.commit,r.prev=1,l=u.siteOptions,d=a||o.default.get(l[u.curSite],"api"),d){r.next=6;break}return r.abrupt("return");case 6:return f=new n.default.Parser,r.next=9,i.default.get(d);case 9:p=r.sent,f.parseString(p.data,(function(e,t){if(e)throw new Error("");var a=o.default.isEmpty(t.rss.class)?[]:t.rss.class[0].ty,r=o.default.map(a,(function(e,t){return{label:e._,value:t,id:o.default.isUndefined(e.$.id)?0:e.$.id}})),n=!!uni.getStorageSync("childMode"),i=uni.getStorageSync("cateFilters")||"";if(n){var s=uni.getStorageSync("config")||{},u=(s.adultWords,o.default.get(s,"adultWords",v));r=o.default.filter(r,(function(e){return!u.some((function(t){return t&&e.label.includes(t)}))}))}if(i){var l=i.split("$");r=o.default.filter(r,(function(e){return!l.some((function(t){return t&&e.label.includes(t)}))}))}c("updateCateOptions",r)})),r.next=21;break;case 13:r.prev=13,r.t0=r["catch"](1),e("log","getCates error",r.t0," at store/modules/video.js:183"),y=void 0,c("updateLoading",!1),c("updateCateOptions"),uni.stopPullDownRefresh(),uni.hideLoading();case 21:case"end":return r.stop()}}),s,null,[[1,13]])})))()},getVideoData:function(t){return p(r.default.mark((function a(){var u,c,l,d,f,p,g,m,h,_,v;return r.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(u=t.commit,c=t.state,uni.hideLoading(),uni.showLoading({title:"\u52a0\u8f7d\u4e2d"}),!c.loading&&!o.default.isEmpty(c.cateOptions)){a.next=5;break}return a.abrupt("return");case 5:if(a.prev=5,l=c.page,d=c.pageCount,!(l>d)){a.next=12;break}return uni.stopPullDownRefresh(),uni.hideLoading(),a.abrupt("return");case 12:if(u("updateLoading",!0),uni.stopPullDownRefresh(),1===l&&u("updateVideoList"),f=c.siteOptions,p=c.curSite,g=c.curCate,m=o.default.get(f[p],"api"),m){a.next=21;break}return a.abrupt("return");case 21:h="".concat(m,"?ac=videolist&pg=").concat(l,"&h=72"),-1!==g&&(_=c.cateOptions,v=_[g].id,h="".concat(h,"&t=").concat(v)),y&&y.abort(),y=i.default.get(h).then((function(e){var t=new n.default.Parser;t.parseString(e.data,(function(e,t){if(uni.hideLoading(),uni.stopPullDownRefresh(),e)throw new Error("");var a=o.default.isEmpty(t.rss.list[0].$)?{}:t.rss.list[0].$,r=o.default.isEmpty(c.videoList)?[]:c.videoList,n=o.default.isEmpty(t.rss.list[0].video)?[]:t.rss.list[0].video;n=(0,s.filterVideo)(n,c.cateOptions),n.sort((function(e,t){return new Date((0,s.formatDate)(t.last[0]))-new Date((0,s.formatDate)(e.last[0]))})),n=[].concat(r,n),u("updateVideoList",n),u("updatePageCount",1*a.pagecount||0),u("updatePage",1*a.page+1),u("updateLoading",!1),y=void 0,uni.stopPullDownRefresh(),uni.hideLoading()}))})),a.next=37;break;case 27:a.prev=27,a.t0=a["catch"](5),e("log","getVideoData error :",a.t0," at store/modules/video.js:257"),y=void 0,u("updateVideoList"),u("updatePageCount"),u("updatePage"),u("updateLoading",!1),uni.stopPullDownRefresh(),uni.hideLoading();case 37:case"end":return a.stop()}}),a,null,[[5,27]])})))()},searchVideoData:function(t,a){return p(r.default.mark((function u(){var c,l,d,f,g,m,h;return r.default.wrap((function(u){while(1)switch(u.prev=u.next){case 0:if(c=t.commit,l=t.state,d=t.dispatch,a){u.next=3;break}return u.abrupt("return");case 3:if(y&&y.abort(),c("updateSearchLoading",!0),c("clearSearcList"),uni.hideLoading(),uni.showLoading({title:"\u6b63\u5728\u641c\u7d22",mask:!0}),u.prev=8,f=l.siteOptions,g=l.searchIndex||0,m=o.default.get(f[g],"api"),m){u.next=14;break}return u.abrupt("return");case 14:return d("getCates",m),h="".concat(m,"?wd=").concat(encodeURIComponent(a)),u.next=18,i.default.get(h);case 18:u.sent,i.default.get(h).then((function(e){var t=new n.default.Parser;t.parseString(e.data,(function(e,t){if(e)throw new Error("");var u=o.default.get(t,"rss.list[0].video",[]);if(!o.default.isEmpty(u)){u=o.default.filter(u,(function(e){return e.name[0].toLowerCase().includes(a.toLowerCase())}));var d=o.default.map(u,(function(e){return e.id[0]})).join(","),f="".concat(m,"?ac=videolist&ids=").concat(d);y=i.default.get(f).then((function(e){var t=new n.default.Parser;t.parseString(e.data,function(){var e=p(r.default.mark((function e(t,n){var i;return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=o.default.isEmpty(n.rss.list[0].video)?[]:n.rss.list[0].video,i=o.default.filter(i,(function(e){return e.name[0].toLowerCase().includes(a.toLowerCase())})),i=(0,s.filterVideo)(i,l.cateOptions),i.forEach((function(e){return e.detail="".concat(m,"?ac=videolist&ids=").concat(e.id)})),i.sort((function(e,t){return new Date((0,s.formatDate)(t.last[0]))-new Date((0,s.formatDate)(e.last[0]))})),c("updateSearchList",i),c("updateSearchLoading",!1),uni.hideLoading();case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())}))}}))})),u.next=30;break;case 22:u.prev=22,u.t0=u["catch"](8),e("log","getSearchData error :",u.t0," at store/modules/video.js:325"),y=void 0,c("updateSearchList"),c("updateSearchLoading",!1),uni.hideLoading(),uni.showToast({title:"\u7a0d\u540e\u518d\u8bd5",icon:"none"});case 30:case"end":return u.stop()}}),u,null,[[8,22]])})))()},getDetail:function(t,a){return p(r.default.mark((function s(){var u,c,l,d,f,p,g,h,_,v,y,b,w,L,x,k,C;return r.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(u=t.commit,c=t.state,l=t.dispatch,d=a.vid,f=a.detailUrl,uni.stopPullDownRefresh(),uni.hideLoading(),uni.showLoading({title:"\u52a0\u8f7d\u8be6\u60c5"}),r.prev=5,p=c.siteOptions,!o.default.isEmpty(p)){r.next=11;break}return r.next=10,u("updateSiteOptions");case 10:p=c.siteOptions;case 11:return g=c.curSite,h=o.default.get(p[g],"api",""),_=f||"".concat(h,"?ac=videolist&ids=").concat(d),"string"===typeof _&&u("updateDetailUrl",_),v=_.match(/(^http.*?)\/\?/),y=v?v[1]:"",b=o.default.find(p,(function(e){return e.api.includes(y)||y.includes(e.api)})),w=o.default.get(b,"download",b),L=o.default.get(b,"name",b),x=o.default.get(b,"jiexiUrl",""),k=o.default.get(b,"needjx",""),C="".concat(w,"?ac=videolist&ids=").concat(d),w&&l("getDownload",C),r.next=26,i.default.get(_).then((function(e){var t=new n.default.Parser;t.parseString(e.data,(function(e,t){if(uni.hideLoading(),e)throw new Error("\u7a0d\u540e\u518d\u8bd5");var a=t.rss.list&&t.rss.list[0].video&&t.rss.list[0].video[0];u("updateDetail",m(m({},a),{},{jiexiUrl:x,needjx:k,sourceName:L})||{})}))}));case 26:r.next=34;break;case 28:r.prev=28,r.t0=r["catch"](5),e("log","getDetail error",r.t0.toString()," at store/modules/video.js:387"),uni.hideLoading(),u("updateDetail"),uni.showToast({icon:"none",title:"\u7a0d\u540e\u518d\u8bd5"});case 34:case"end":return r.stop()}}),s,null,[[5,28]])})))()},getDownload:function(t,a){return p(r.default.mark((function s(){var u;return r.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.state,u=t.commit,r.prev=1,r.next=4,i.default.get(a).then((function(e){var t=new n.default.Parser;t.parseString(e.data,(function(e,t){if(uni.hideLoading(),e)throw new Error("\u672a\u77e5\u9519\u8bef");var a=t.rss.list&&t.rss.list[0].video&&t.rss.list[0].video[0],r=o.default.get(a,"dl[0].dd",[]);u("updateDownload",r)}))}));case 4:r.next=11;break;case 6:r.prev=6,r.t0=r["catch"](1),e("log","getDownload",r.t0," at store/modules/video.js:417"),u("updateDownload"),uni.hideLoading();case 11:case"end":return r.stop()}}),s,null,[[1,6]])})))()},updateStore:function(e,t){return p(r.default.mark((function a(){var n,i,o,s;return r.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:n=e.state,i=!!uni.getStorageSync("like##".concat(n.detailUrl)),o=n.detailUrl,s=m(m({},n.detail),{},{num:t,link:o,time:Date.now()}),uni.setStorage({key:"history##".concat(n.detailUrl),data:m(m({},s),{},{key:"history##".concat(n.detailUrl)})}),i&&uni.setStorage({key:"like##".concat(n.detailUrl),data:m(m({},s),{},{key:"like##".concat(n.detailUrl)})});case 6:case"end":return a.stop()}}),a)})))()},addApiList:function(t,a){var r=a.url,n=a.cb;try{uni.hideLoading(),uni.showLoading({title:"\u5bfc\u5165\u4e2d",icon:"none"}),i.default.get(r).then((function(e){n&&n(e.data),uni.hideLoading()}))}catch(o){e("log","addApiList error",o.toString()," at store/modules/video.js:461"),uni.hideLoading()}}},getters:{status:function(e){return e.page>e.pageCount?"nomore":e.loading?"loading":"loadmore"}}};t.default=b}).call(this,a("0de9")["default"])},df91:function(module,exports,__webpack_require__){"use strict";(function(__f__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _regenerator=_interopRequireDefault(__webpack_require__("a34a")),_lodash=_interopRequireDefault(__webpack_require__("c037")),_ajax=_interopRequireDefault(__webpack_require__("0df0")),_books=_interopRequireDefault(__webpack_require__("7397"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function asyncGeneratorStep(e,t,a,r,n,i,o){try{var s=e[i](o),u=s.value}catch(c){return void a(c)}s.done?t(u):Promise.resolve(u).then(r,n)}function _asyncToGenerator(e){return function(){var t=this,a=arguments;return new Promise((function(r,n){var i=e.apply(t,a);function o(e){asyncGeneratorStep(i,r,n,o,s,"next",e)}function s(e){asyncGeneratorStep(i,r,n,o,s,"throw",e)}o(void 0)}))}}function ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(a),!0).forEach((function(t){_defineProperty(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"===typeof e)return _arrayLikeToArray(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var sexName=["lady","man"],_default={namespaced:!0,state:{loading:!1,sex:0===uni.getStorageSync("sex")?0:1,banners:[],list:[],bookList:[],hasNextPage:!0,fltList:[],detail:{},direct:{},cates:{},catesArray:[],content:{},rcid:-1,page:1,curRank:0,curCate:0,curDate:0,dateList:[{id:"total",name:"\u5168\u90e8"},{id:"week",name:"\u5468\u699c"},{id:"month",name:"\u6708\u699c"},{id:"total",name:"\u603b\u699c"}],rankList:[{id:"hot",name:"\u70ed\u95e8"},{id:"new",name:"\u65b0\u4e66"},{id:"over",name:"\u5b8c\u672c"},{id:"vote",name:"\u8bc4\u5206"},{id:"collect",name:"\u6536\u85cf"},{id:"commend",name:"\u63a8\u8350"}],cateRankList:[{id:"hot",name:"\u70ed\u95e8"},{id:"new",name:"\u65b0\u4e66"},{id:"over",name:"\u5b8c\u672c"},{id:"vote",name:"\u8bc4\u5206"}]},mutations:{updateLoading:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.loading=t},updateSex:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;e.sex=t,uni.setStorageSync("sex",t),e.page=1,e.bookList=[],e.hasNextPage=!0},updateBanners:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.banners=_toConsumableArray(t)},updateList:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.list=t,e.curRank=0,e.curCate=0,e.curDate=0,e.page=1,e.bookList=[],e.hasNextPage=!0},updateCates:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.cates=_objectSpread({},t)},updateCatesArray:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.catesArray=_toConsumableArray(t)},updateTabs:function(e,t){var a=t.type,r=t.value;"curCate"===a?(e.curRank>3&&(e.curRank=0),r>0&&(e.curDate=0)):"curDate"===a&&r>0&&(e.curCate=0),e[a]=r,e.page=1,e.bookList=[],e.hasNextPage=!0},updatePage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;e.page=t},updateBookList:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.bookList=[].concat(e.bookList,t)},clearBookList:function(e){e.bookList=[]},updateFltList:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.fltList=[].concat(e.fltList,t)},clearFltList:function(e){e.fltList=[]},updateHasNextPage:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.hasNextPage=t},updateDetail:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.detail=_objectSpread({},t)},updateDirect:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.direct=_objectSpread({},t)},updateContent:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.content=_objectSpread({},t)},updateRcid:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e.rcid=t}},actions:{getBooks:function(e,t){return _asyncToGenerator(_regenerator.default.mark((function a(){var r,n,i,o,s,u,c,l,d,f,p,g;return _regenerator.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.commit,n=e.state,uni.hideLoading(),uni.showLoading({title:"\u52a0\u8f7d\u4e2d"}),a.prev=3,r("updateLoading",!0),i=_books.default.urls,o=i.length,s=Math.floor(Math.random()*o),u=i[s],c=n.sex,l=[],d=[],f=_books.default.swiper.replace("{sex}",sexName[c]),p=u.replace("{sex}",sexName[c]),g=[_ajax.default.get(f),_ajax.default.get(p)],a.next=17,Promise.all(g).then((function(e){e[0]&&200===e[0].statusCode&&(d[c]=[].concat(e[0].data.data),r("updateBanners",d)),e[1]&&200===e[1].statusCode&&(l[c]=[].concat(e[1].data.data),r("updateList",l)),r("updateLoading",!1),t&&t(),uni.hideLoading()}));case 17:a.next=25;break;case 19:a.prev=19,a.t0=a["catch"](3),__f__("log","getBooks error",a.t0," at store/modules/book.js:213"),r("updateLoading",!1),t&&t(),uni.hideLoading();case 25:case"end":return a.stop()}}),a,null,[[3,19]])})))()},getCates:function(e){return _asyncToGenerator(_regenerator.default.mark((function t(){var a;return _regenerator.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.state,a=e.commit,uni.hideLoading(),uni.showLoading({title:"\u83b7\u53d6\u5206\u7c7b"}),t.prev=3,t.next=6,_ajax.default.get(_books.default.cateList).then((function(e){var t=_lodash.default.get(e,"statusCode"),r=_lodash.default.get(e,"data.data");200===t&&(_lodash.default.isArray(r)?a("updateCatesArray",r):_lodash.default.isObject(r)?a("updateCates",r):(a("updateCatesArray"),a("updateCates"))),uni.hideLoading()}));case 6:t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](3),__f__("log","getCates error",t.t0," at store/modules/book.js:246"),uni.hideLoading();case 12:case"end":return t.stop()}}),t,null,[[3,8]])})))()},getList:function(e,t){return _asyncToGenerator(_regenerator.default.mark((function a(){var r,n,i,o,s,u,c,l,d,f,p;return _regenerator.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r=e.state,n=e.commit,t&&n("clearBookList"),r.hasNextPage){a.next=4;break}return a.abrupt("return");case 4:if(uni.hideLoading(),uni.showLoading({title:"\u52a0\u8f7d\u4e2d"}),a.prev=6,i="",o=r.sex,s=sexName[o],u=r.page,c=_lodash.default.get(r,"rankList[".concat(r.curRank,"].id"),""),l=_lodash.default.get(r,"dateList[".concat(r.curDate,"].id"),""),d=0===r.curCate?0:r.curCate-1,f="",_lodash.default.isEmpty(r.cates)?f=_lodash.default.get(r,"catesArray[".concat(d,"].Id")):(p=_lodash.default.get(r.cates,s,[]),f=_lodash.default.get(p[d],"Id","")),f){a.next=18;break}throw new Error("\u83b7\u53d6\u5206\u7c7b\u5931\u8d25");case 18:if(i=r.curCate>0?_books.default.cateDetail.replace("{id}",f).replace("{type}",c).replace("{page}",u):_books.default.type.replace("{sex}",s).replace("{type}",c).replace("{date}",l).replace("{page}",u),a.t0=i,!a.t0){a.next=23;break}return a.next=23,_ajax.default.get(i).then((function(e){if(e&&200===e.statusCode){var t=e.data.data.BookList,a=e.data.data.HasNext,i=r.page+1;n("updateBookList",t),n("updateHasNextPage",a),a&&n("updatePage",i)}uni.hideLoading()}));case 23:a.next=29;break;case 25:a.prev=25,a.t1=a["catch"](6),__f__("log","getList error",a.t1," at store/modules/book.js:306"),uni.hideLoading();case 29:case"end":return a.stop()}}),a,null,[[6,25]])})))()},getFltList:function(e,t){return _asyncToGenerator(_regenerator.default.mark((function a(){var r,n;return _regenerator.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r=e.state,n=e.commit,r.hasNextPage){a.next=3;break}return a.abrupt("return");case 3:return uni.hideLoading(),uni.showLoading({title:"\u52a0\u8f7d\u4e2d"}),a.prev=5,a.next=8,_ajax.default.get(t).then((function(e){if(e&&200===e.statusCode){var t=e.data.data.BookList||e.data.data,a=e.data.data.HasNext,i=r.page+1;n("updateFltList",t),n("updateHasNextPage",a),a&&n("updatePage",i)}uni.hideLoading()}));case 8:a.next=14;break;case 10:a.prev=10,a.t0=a["catch"](5),__f__("log","getFltList error",a.t0," at store/modules/book.js:335"),uni.hideLoading();case 14:case"end":return a.stop()}}),a,null,[[5,10]])})))()},getDetail:function(e,t){return _asyncToGenerator(_regenerator.default.mark((function a(){var r;return _regenerator.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.commit,uni.hideLoading(),uni.showLoading({title:"\u52a0\u8f7d\u4e2d"}),a.prev=3,a.next=6,_ajax.default.get(t).then((function(e){e&&200===e.statusCode&&r("updateDetail",e.data.data),uni.hideLoading()}));case 6:a.next=12;break;case 8:a.prev=8,a.t0=a["catch"](3),__f__("log","getDetail error",a.t0," at store/modules/book.js:355"),uni.hideLoading();case 12:case"end":return a.stop()}}),a,null,[[3,8]])})))()},getDirect:function getDirect(_ref7,url){return _asyncToGenerator(_regenerator.default.mark((function _callee6(){var commit;return _regenerator.default.wrap((function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:return commit=_ref7.commit,uni.hideLoading(),uni.showLoading({title:"\u52a0\u8f7d\u4e2d"}),_context6.prev=3,_context6.next=6,_ajax.default.get(url).then((function(res){if(res&&200===res.statusCode){var data=eval("("+res.data+")");commit("updateDirect",data.data)}uni.hideLoading()}));case 6:_context6.next=12;break;case 8:_context6.prev=8,_context6.t0=_context6["catch"](3),__f__("log","getDirect error",_context6.t0," at store/modules/book.js:377"),uni.hideLoading();case 12:case"end":return _context6.stop()}}),_callee6,null,[[3,8]])})))()},getRead:function(e,t){return _asyncToGenerator(_regenerator.default.mark((function a(){var r;return _regenerator.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.commit,uni.hideLoading(),uni.showLoading({title:"\u52a0\u8f7d\u4e2d"}),a.prev=3,a.next=6,_ajax.default.get(t).then((function(e){e&&200===e.statusCode&&r("updateContent",e.data.data),uni.hideLoading()}));case 6:a.next=12;break;case 8:a.prev=8,a.t0=a["catch"](3),__f__("log","getRead error",a.t0," at store/modules/book.js:397"),uni.hideLoading();case 12:case"end":return a.stop()}}),a,null,[[3,8]])})))()}},getters:{bannerImgs:function(e){var t=e.sex,a=e.banners[t]||[];return a.map((function(e){return e.image=e.imgurl,e.imgurl}))},cateList:function(e){var t=[],a=sexName[e.sex];if(_lodash.default.isEmpty(e.cates)){var r=_lodash.default.get(e,"catesArray",[]);t=_lodash.default.map(r,(function(e){return e.name=e.Name,e})),t.unshift({Id:"none",Name:"\u5168\u90e8",name:"\u5168\u90e8"})}else{var n=_lodash.default.get(e.cates,a,[]);t=_lodash.default.map(n,(function(e){return e.name=e.Name,e}))}return t}}};exports.default=_default}).call(this,__webpack_require__("0de9")["default"])},f2b0:function(module,exports,__webpack_require__){"use strict";(function(__f__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _regenerator=_interopRequireDefault(__webpack_require__("a34a")),_lodash=_interopRequireDefault(__webpack_require__("c037")),_ajax=_interopRequireDefault(__webpack_require__("0df0")),_htmlParser=_interopRequireDefault(__webpack_require__("c282")),_comics=_interopRequireDefault(__webpack_require__("6efa")),_util=__webpack_require__("8384");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function asyncGeneratorStep(e,t,a,r,n,i,o){try{var s=e[i](o),u=s.value}catch(c){return void a(c)}s.done?t(u):Promise.resolve(u).then(r,n)}function _asyncToGenerator(e){return function(){var t=this,a=arguments;return new Promise((function(r,n){var i=e.apply(t,a);function o(e){asyncGeneratorStep(i,r,n,o,s,"next",e)}function s(e){asyncGeneratorStep(i,r,n,o,s,"throw",e)}o(void 0)}))}}function ownKeys(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(a),!0).forEach((function(t){_defineProperty(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"===typeof e)return _arrayLikeToArray(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var _default={namespaced:!0,state:{swipers:[],list:[],curRank:"1-1",curPage:1,rankList:[],curCate:"",cateList:[],pageList:[],moreStatus:"loadmore",detail:{},rcid:"",fltList:[],direct:{},content:{}},mutations:{updateHomeData:function(e,t){e.updateStatus=!!t},updateSwipers:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.swipers=_toConsumableArray(t)},updateList:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.list=_toConsumableArray(t)},updateRankList:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.rankList=_toConsumableArray(t)},updateCateList:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.cateList=_toConsumableArray(t)},setPageList:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.pageList=_toConsumableArray(t)},updatePageList:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.pageList=[].concat(_toConsumableArray(e.pageList),_toConsumableArray(t))},updateCurPage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;e.curPage=t},updateMoreStatus:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"loadmore";e.moreStatus=t},updateDetail:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.detail=_objectSpread({},t)},updateRcid:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";e.rcid=t},updateFltList:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e.fltList=_toConsumableArray(t)},updateDirect:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.direct=_objectSpread({},t)},updateContent:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.content=_objectSpread({},t)}},actions:{getHomeData:function(e,t){return _asyncToGenerator(_regenerator.default.mark((function t(){var a,r,n;return _regenerator.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,uni.hideLoading(),uni.showLoading({title:"\u52a0\u8f7d\u4e2d"}),t.prev=3,r=_ajax.default.get(_comics.default.urls[0]),n=_ajax.default.get(_comics.default.urls[1]),t.next=8,Promise.race([r,n]).then((function(e){var t=[],r=[],n=(0,_htmlParser.default)((0,_util.tostring)(e.data)),i=n.getElementsByClassName("swiper-wrapper"),o=new _htmlParser.default(i),s=o.getElementsByTagName("a"),u=o.getElementsByTagName("img");_lodash.default.each([].concat(s||[]),(function(e,a){var r={href:e.attributes.href.replace(/\//g,""),image:u[a].attributes["data-src"],title:u[a].attributes.alt};t.push(r)})),t.length&&a("updateSwipers",t);var c=n.getElementsByClassName("floor");_lodash.default.each([].concat(c||[]),(function(e,t){var a=new _htmlParser.default(e),n=a.getElementsByClassName("title")[0],i=new _htmlParser.default(n),o=i.getElementsByTagName("a")[0],s=i.getElementsByTagName("span")[0],u=s.innerHTML,c=o.attributes.href;r[t]||(r[t]={}),r[t].title=u,r[t].more=c;var l=a.getElementsByClassName("comic-big")[0];if(l){var d=new _htmlParser.default(l),f=d.getElementsByTagName("a")[0],p=f.attributes.href.replace(/\//g,""),g=new _htmlParser.default(f),m=g.getElementsByTagName("img")[0],h=m.attributes["data-src"],_=g.getElementsByTagName("p"),v=_[0].innerHTML,y=_[1].innerHTML;r[t]||(r[t]={}),r[t].list=[].concat(r[t].list||[],{name:v,update:y,href:p,imgSrc:h})}var b=a.getElementsByClassName("m-up-item1");_lodash.default.each([].concat(b||[]),(function(e,a){var n=new _htmlParser.default(e),i=n.getElementsByTagName("img")[0],o=i.attributes["data-src"],s=n.getElementsByTagName("a")[0],u=s.attributes.href.replace(/\//g,""),c=n.getElementsByClassName("comic-name")[0],l=(0,_util.trimInnerHtml)(c.innerHTML),d=n.getElementsByClassName("tag-box")[0],f=(0,_util.trimInnerHtml)(d.innerHTML),p=n.getElementsByClassName("comic-click")[0],g=(0,_util.trimInnerHtml)(p.innerHTML);r[t].list=[].concat(r[t].list||[],{name:l,update:g,href:u,imgSrc:o,author:f})}));var w=a.getElementsByClassName("comic-item");_lodash.default.each([].concat(w||[]),(function(e,a){var n=new _htmlParser.default(e),i=n.getElementsByTagName("a")[0],o=i.attributes.href.replace(/\//g,""),s=n.getElementsByClassName("comic-name")[0],u=n.getElementsByClassName("comic-tip")[0],c=n.getElementsByTagName("img")[0],l=s.innerHTML,d=u.innerHTML,f=c.attributes["data-src"];r[t]||(r[t]={}),r[t].list=[].concat(r[t].list||[],{name:l,update:d,href:o,imgSrc:f})}))})),r.length&&a("updateList",r),uni.hideLoading()}));case 8:t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](3),uni.hideLoading(),__f__("log","getHomeData error",t.t0," at store/modules/comic.js:189");case 14:case"end":return t.stop()}}),t,null,[[3,10]])})))()},getRankList:function(e){return _asyncToGenerator(_regenerator.default.mark((function t(){var a,r,n;return _regenerator.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.prev=1,r=_ajax.default.get(_comics.default.urls[0]+"/rank/1-1.html"),n=_ajax.default.get(_comics.default.urls[1]+"/rank/1-1.html"),t.next=6,Promise.race([r,n]).then((function(e){var t=[],r=(0,_htmlParser.default)((0,_util.tostring)(e.data)),n=r.getElementsByClassName("rank-nav-item");_lodash.default.each([].concat(n||[]),(function(e,a){var r=new _htmlParser.default(e),n=r.getElementsByTagName("a")[0],i=n.attributes.href,o=(0,_util.trimInnerHtml)(n.innerHTML);t.push({name:o,href:i})})),t.length&&a("updateRankList",t)}));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),__f__("log","getRankList error",t.t0," at store/modules/comic.js:215");case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))()},getCateList:function(e){return _asyncToGenerator(_regenerator.default.mark((function t(){var a,r,n;return _regenerator.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e.commit;try{r=_ajax.default.get(_comics.default.urls[0]+"/sort/1-1.html"),n=_ajax.default.get(_comics.default.urls[1]+"/sort/1-1.html"),Promise.race([r,n]).then((function(e){var t=[],r=(0,_htmlParser.default)((0,_util.tostring)(e.data)),n=r.getElementsByClassName("rank-nav-item");_lodash.default.each([].concat(n||[]),(function(e,a){var r=new _htmlParser.default(e),n=r.getElementsByTagName("a")[0],i=n.attributes.href,o=(0,_util.trimInnerHtml)(n.innerHTML);t.push({name:o,href:i})})),t.length,a("updateCateList",t)}))}catch(i){__f__("log","getCateList",i," at store/modules/comic.js:241")}case 2:case"end":return t.stop()}}),t)})))()},getList:function(e){var t=arguments;return _asyncToGenerator(_regenerator.default.mark((function a(){var r,n,i,o;return _regenerator.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.commit,n=t.length>1&&void 0!==t[1]?t[1]:"/sort/1-1.html",uni.hideLoading(),uni.showLoading({title:"\u52a0\u8f7d\u4e2d"}),a.prev=4,i=_ajax.default.get(_comics.default.urls[0]+n),o=_ajax.default.get(_comics.default.urls[1]+n),a.next=9,Promise.race([i,o]).then((function(e){var t=[],a=(0,_htmlParser.default)((0,_util.tostring)(e.data)),n=a.getElementsByClassName("rank-item");_lodash.default.each([].concat(n||[]),(function(e,a){var r=new _htmlParser.default(e),n=r.getElementsByTagName("a")[0],i=r.getElementsByTagName("img")[0],o=r.getElementsByClassName("comic-name")[0],s=r.getElementsByClassName("comic-author")[0],u=r.getElementsByClassName("comic-tip")[0],c=n.attributes.href.replace(/\//g,""),l=i.attributes["data-src"],d=(0,_util.trimInnerHtml)(o.innerHTML),f=(0,_util.trimInnerHtml)(s.innerHTML),p=(0,_util.trimInnerHtml)(u.innerHTML);t.push({id:c,imgurl:l,name:d,author:f,remarks:p})})),r("setPageList",t),r("updateCurPage"),r("updateMoreStatus"),uni.hideLoading()}));case 9:a.next=15;break;case 11:a.prev=11,a.t0=a["catch"](4),uni.hideLoading(),__f__("log","getList error",a.t0," at store/modules/comic.js:286");case 15:case"end":return a.stop()}}),a,null,[[4,11]])})))()},getListMore:function(e){var t=arguments;return _asyncToGenerator(_regenerator.default.mark((function a(){var r,n,i,o,s,u,c,l,d;return _regenerator.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r=e.commit,n=e.state,i=t.length>1&&void 0!==t[1]?t[1]:"/sort/1-1.html","loading"!==n.moreStatus){a.next=4;break}return a.abrupt("return");case 4:return uni.hideLoading(),uni.showLoading({title:"\u52a0\u8f7d\u4e2d"}),a.prev=6,r("updateMoreStatus","loading"),o=i.match(/\/(\w+)\/(\d+)-\d+\.html/),s="sort"===o[1]?"sort/":"",u=o[2],c=n.curPage,l=_ajax.default.get(_comics.default.urls[0]+"/ajaxf/"+s+"?page_num="+c+"&type="+u),d=_ajax.default.get(_comics.default.urls[1]+"/ajaxf/"+s+"?page_num="+c+"&type="+u),a.next=16,Promise.race([l,d]).then((function(e){var t=Array.isArray(e.data)?e.data:null;r("updateMoreStatus",t?"loadmore":"nomore"),r("updatePageList",t||[]),r("updateCurPage",c+1),uni.hideLoading()}));case 16:a.next=23;break;case 18:a.prev=18,a.t0=a["catch"](6),r("updateMoreStatus","nomore"),uni.hideLoading(),__f__("log","getListMore error",a.t0," at store/modules/comic.js:316");case 23:case"end":return a.stop()}}),a,null,[[6,18]])})))()},getDetail:function(e,t){return _asyncToGenerator(_regenerator.default.mark((function a(){var r,n,i;return _regenerator.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.state,r=e.commit,uni.hideLoading(),uni.showLoading({title:"\u52a0\u8f7d\u4e2d"}),a.prev=3,n=_ajax.default.get("".concat(_comics.default.urls[0],"/").concat(t,"/")),i=_ajax.default.get("".concat(_comics.default.urls[1],"/").concat(t,"/")),a.next=8,Promise.race([n,i]).then((function(e){var t=(0,_htmlParser.default)((0,_util.tostring)(e.data)),a=t.getElementsByClassName("comic-info-box")[0],n=new _htmlParser.default(a),i=n.getElementsByTagName("img")[0],o=n.getElementsByTagName("h1")[0],s=n.getElementsByTagName("p"),u="",c="",l="",d="",f=[];_lodash.default.each([].concat(s||[]),(function(e){var t=(0,_util.trimInnerHtml)(e.innerHTML);if(f.push(t),t.includes("\u4f5c\u8005")&&(u=t),t.includes("\u66f4\u65b0")&&(d=t),t.includes("\u6700\u65b0\u7ae0\u8282")){var a=new _htmlParser.default(e),r=a.getElementsByTagName("a")[0];c=r.attributes.href,l=t}}));var p=t.getElementsByClassName("start-read")[0],g=p.attributes.href,m=t.getElementsByClassName("comic-intro")[0],h=(0,_util.trimInnerHtml)(m.innerHTML),_=t.getElementsByClassName("comic-recommend")[0],v=new _htmlParser.default(_),y=v.getElementsByClassName("rec-item"),b=[];_lodash.default.each([].concat(y||[]),(function(e){var t=new _htmlParser.default(e),a=t.getElementsByTagName("a")[0],r=t.getElementsByTagName("img")[0],n=t.getElementsByClassName("comic-name")[0];b.push({href:a.attributes.href.replace(/\//g,""),imgSrc:r.attributes["data-src"],name:(0,_util.trimInnerHtml)(n.innerHTML)})}));var w={imgSrc:i.attributes.src,name:(0,_util.trimInnerHtml)(o.innerHTML),author:u,fcid:g,lcid:c,lcname:l,ltime:d,infoList:f,desc:h,recList:b};r("updateDetail",w),uni.hideLoading()}));case 8:a.next=14;break;case 10:a.prev=10,a.t0=a["catch"](3),uni.hideLoading(),__f__("log","getDetail error",a.t0," at store/modules/comic.js:392");case 14:case"end":return a.stop()}}),a,null,[[3,10]])})))()},getDirect:function(e,t){return _asyncToGenerator(_regenerator.default.mark((function a(){var r,n,i,o,s,u,c;return _regenerator.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.commit,uni.hideLoading(),uni.showLoading({title:"\u52a0\u8f7d\u4e2d"}),a.prev=3,n=_ajax.default.get("".concat(_comics.default.urls[0],"/").concat(t,"/")),i=_ajax.default.get("".concat(_comics.default.urls[1],"/").concat(t,"/")),o=_ajax.default.post({url:"".concat(_comics.default.urls[0],"/bookchapter/"),header:{Accept:"*/*","Content-Type":"application/x-www-form-urlencoded"},data:{id:t,id2:"1"}}),s=_ajax.default.post({url:"".concat(_comics.default.urls[1],"/bookchapter/"),header:{"Content-Type":"application/x-www-form-urlencoded"},data:{id:t,id2:"1"}}),u=[],c="",a.next=12,Promise.race([n,i]).then((function(e){var t=(0,_htmlParser.default)((0,_util.tostring)(e.data)),a=t.getElementsByTagName("h1")[0];c=(0,_util.trimInnerHtml)(a.innerHTML);var r=t.getElementsByClassName("chapter-item");_lodash.default.each([].concat(r||[]),(function(e){var t=new _htmlParser.default(e),a=t.getElementsByTagName("a")[0],r=a.attributes.href.match(/\/(\w+)\./),n=r?r[1]:null,i=(0,_util.trimInnerHtml)(a.innerHTML);n&&u.push({id:n,name:i})}))}));case 12:return a.next=14,Promise.race([o,s]).then((function(e){200===e.statusCode&&(u=[].concat(u,e.data||[])),r("updateDirect",{name:c,list:u})}));case 14:uni.hideLoading(),a.next=21;break;case 17:a.prev=17,a.t0=a["catch"](3),uni.hideLoading(),__f__("log","getDirect error",a.t0," at store/modules/comic.js:444");case 21:case"end":return a.stop()}}),a,null,[[3,17]])})))()},getFltList:function(e,t){return _asyncToGenerator(_regenerator.default.mark((function a(){var r,n,i;return _regenerator.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.commit,a.prev=1,uni.hideLoading(),uni.showLoading({title:"\u52a0\u8f7d\u4e2d"}),n=_ajax.default.get("".concat(_comics.default.urls[0],"/spotlight/?keyword=").concat(t)),i=_ajax.default.get("".concat(_comics.default.urls[1],"/spotlight/?keyword=").concat(t)),a.next=8,Promise.race([n,i]).then((function(e){var t=(0,_htmlParser.default)((0,_util.tostring)(e.data)),a=t.getElementsByClassName("comic-list-item"),n=[];_lodash.default.each([].concat(a||[]),(function(e){var t=new _htmlParser.default(e),a=t.getElementsByTagName("a")[0],i=a.attributes.href.replace(/\//g,""),o=t.getElementsByTagName("img")[0],s=_lodash.default.get(o,"attributes.src",""),u=t.getElementsByClassName("comic-name")[0],c=(0,_util.trimInnerHtml)(u.innerHTML),l=t.getElementsByClassName("comic-author")[0],d=(0,_util.trimInnerHtml)(l.innerHTML),f=t.getElementsByClassName("comic-tags")[0],p=(0,_util.trimInnerHtml)(f.innerHTML),g=t.getElementsByClassName("comic-update-at")[0],m=(0,_util.trimInnerHtml)(g.innerHTML);n.push({id:i,imgSrc:s,name:c,author:d,tag:p,update:m}),n.length&&r("updateFltList",n)})),uni.hideLoading()}));case 8:a.next=14;break;case 10:a.prev=10,a.t0=a["catch"](1),__f__("log","comic getFltList:::",a.t0," at store/modules/comic.js:489"),uni.hideLoading();case 14:case"end":return a.stop()}}),a,null,[[1,10]])})))()},getRead:function getRead(_ref9,cid){return _asyncToGenerator(_regenerator.default.mark((function _callee9(){var commit,url1,url2,bid;return _regenerator.default.wrap((function _callee9$(_context9){while(1)switch(_context9.prev=_context9.next){case 0:return commit=_ref9.commit,uni.hideLoading(),uni.showLoading({title:"\u52a0\u8f7d\u4e2d"}),_context9.prev=3,url1=_ajax.default.get("".concat(_comics.default.urls[0],"/").concat(cid)),url2=_ajax.default.get("".concat(_comics.default.urls[1],"/").concat(cid)),bid=cid.match(/\/(\d+)\//)[1],_context9.next=9,Promise.race([url1,url2]).then((function(res){var doc=(0,_htmlParser.default)((0,_util.tostring)(res.data)),scripts=doc.getElementsByTagName("script"),imgList=[];_lodash.default.each([].concat(scripts||[]),(function(st){var str="";if(st.innerHTML.includes("eval(function")){str=_lodash.default.get(st,"innerHTML.trim")&&st.innerHTML.trim();var sc=str.substring(5,str.length-1),newImgs=eval("("+sc+")"),imgs=newImgs.replace("var newImgs=","");imgList=JSON.parse(imgs)}}));var names=doc.getElementsByClassName("comic-name")[0],cname=(0,_util.trimInnerHtml)(names.innerHTML),prev=doc.getElementsByClassName("prev-chapter")[0],prevDoc=new _htmlParser.default(prev),prevA=prevDoc.getElementsByTagName("a")[0],prevHref=prevA.attributes.href,next=doc.getElementsByClassName("next-chapter")[0],nextDoc=new _htmlParser.default(next),nextA=nextDoc.getElementsByTagName("a")[0],nextHref=nextA.attributes.href,content={bid:bid,cid:cid,cname:cname,imgList:imgList,prevHref:prevHref,nextHref:nextHref};commit("updateContent",content),uni.hideLoading()}));case 9:_context9.next=15;break;case 11:_context9.prev=11,_context9.t0=_context9["catch"](3),__f__("log","getRead error",_context9.t0," at store/modules/comic.js:541"),uni.hideLoading();case 15:case"end":return _context9.stop()}}),_callee9,null,[[3,11]])})))()}},getters:{}};exports.default=_default}).call(this,__webpack_require__("0de9")["default"])}}]);